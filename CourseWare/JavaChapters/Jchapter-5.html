<!DOCTYPE HTML>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Java程序设计--异常处理</title>
    <meta name="description" content="关于Java的基本信息">
    <meta name="author" content="Liyi">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobil-web-app-status-bar-style" content="black">

    <link rel="stylesheet" href="../../dist/reset.css">
    <link rel="stylesheet" href="../../dist/reveal.css">
    <link rel="stylesheet" href="../../dist/theme/white.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../../plugin/highlight/monokai.css" id="highligh">

    <style type="text/css">
        .columnleft{
            float: left;
            width: 50%;
        }
        .columnright{
            float: right;
            width: 50%;
        }
        .li{
            text-align: left;
            font-size: x-large;
        }
        .p{
            text-align: left;
            font-size: x-large;
        }
    </style>
</head>

<body>
        <div class="reveal">
            <div class="slides">
                <section id="titlepage">
                    <h1>Java程序设计</h1>
                    <H2>第五章 异常处理</H2>
                    <p id="date"></p>
                    <script>
                        var now = new Date();
                        var year = now.getFullYear();
                        var month = now.getMonth();
                        var day = now.getDate();
                        document.getElementById( "date" ).innerHTML = year + "年" + ( 1 + month ) + "月" + day + "日";
                    </script>
                </section>
                <section>
                    <section id="excepcp">
                        <h2>认识异常</h2>
                        <p>关于上班这件事</p>
                        <img src="../images/java/chap5/workexcep.png">
                    </section>
                    <section id="excepcp2">
                        <h2>认识异常</h2>
                        <ul>
                            <li>Java异常会输出一个错误信息，并停止线程的执行</li>
                            <li>程序员可在程序中定义异常处理程序来捕获和处理异常</li>
                        </ul>
                        <img src="../images/java/chap5/workexcep2.png">
                    </section>
                    <section id="excpdes">
                        <h2>认识异常</h2>
                        <img src="../images/java/chap5/excepdes.png">
                    </section>
                </section>
                <section>
                    <section id="excepcon1">
                        <h2>异常处理的概念</h2>
                        <ul>
                            <li>程序运行时出现运行错误，导致程序异常终止</li>
                            <ul>
                                <li>运行时错误通常由异常导致</li>
                                <li>如果未及时处理异常，程序会非正常终止</li>
                                <li>可以通过合适的处理方法来保证程序正常进行，即异常处理</li>
                            </ul>
                        </ul>
                        <p><a href="../SourceCode/Lec_05_Src/Quotient.java" target="_blank">Quotient.java</a></p>
                        <p><a href="../SourceCode/Lec_05_Src/QuotientWithIf.java" target="_blank">QuotientWithIf.java</a></p>
                        <p><a href="../SourceCode/Lec_05_Src/QuotientWithException.java" target="_blank">QuotientWithException.java</a></p>
                    </section>
                    <section id="excepcon2">
                        <h2>异常处理的概念</h2>
                        <ul>
                            <li>定义的方法可以抛出异常，由其调用者方法进行处理</li>
                            <li>若调用者方法无能力对异常进行处理，则需由该方法本身进行异常处理或终止</li>
                            <li>系统库方法只能检测异常错误，但无法进行处理，需由调用方法本身进行处理</li>
                        </ul>
                        <p><a href="../SourceCode/Lec_05_Src/QuotientWithException.java" target="_blank">QuetientWithException.java</a></p>
                        <p><a href="../SourceCode/Lec_05_Src/FileNotFoundExceptionDemo.java" target="_blank">FileNotFoundExceptionDemo.java</a></p>
                        <p><a href="../SourceCode/Lec_05_Src/InputMismatchExceptionDemo.java" target="_blank">InputMismatchExceptionDemo.java</a></p>
                    </section>
                </section>
                <section>
                    <section id="extype1">
                        <h2>异常的类型</h2>
                        <img src="../images/java/chap5/exceptype.png">
                    </section>
                    <section id="extype2">
                        <h2>异常的类型</h2>
                        <img src="../images/java/chap5/exceptype1.png">
                    </section>
                    <section id="extype2">
                        <h2>异常的类型</h2>
                        <img src="../images/java/chap5/exceptype2.png">
                    </section>
                    <section id="extype2">
                        <h2>异常的类型</h2>
                        <img src="../images/java/chap5/exceptype3.png">
                    </section>
                    <section id="extype2">
                        <h2>异常的类型</h2>
                        <img src="../images/java/chap5/exceptype4.png">
                    </section>
                </section>
                <section>
                    <section id="excpross1">
                        <h2>异常处理的方法</h2>
                        <img src="images/chap5/catchexcep.png">
                    </section>
                    <section id="excpross2">
                        <h2>异常处理的方法</h2>
                        <img src="../images/java/chap5/catchmtd1.png">
                    </section>
                    <section id="excpross3">
                        <h2>异常处理的方法</h2>
                        <img src="../images/java/chap5/catchmtd2.png">
                    </section>
                </section>
                <section id="expdec">
                    <h2>声明异常</h2>
                    <ul>
                        <li>每个方法都必须声明其可能抛出的必检异常类型</li>
                        <pre><code class="hljs">
public void myMethod() throws IOException{
    // do something
}

public void myMethod() throws Exception1, Exception2, ..., ExceptionN{
    // do something
}
                        </code></pre>
                    </ul>
                </section>
                <section>
                    <section id="expthr">
                        <h2>抛出异常</h2>
                        <ul>
                            <li>当程序检测到一个错误时，程序可创建一个恰当的异常类型的实例抛出</li>
                        </ul>
                        <pre><code class="hljs">
    FileNotFoundExceptionDemo ex=new FileNotFoundExceptionDemo("File Not Exist");
    throw ex;

    throw new FileNotFoundException("File Not Exist");
                        </code></pre>
                    </section>
                    <section id="expthr2">
                        <h2>抛出异常</h2>
                        <ul>
                            <li>throw</li>
                            <ul>
                                <li>用于明确抛出一个异常，用户必须得到一个Throwable类或其子类的实例句柄，通过参数传到catch子句中，或用new创建一个新的异常实例</li>
                            </ul>
                            <li>throws</li>
                            <ul>
                                <li>如果一个方法a可能引发异常，而其本身不对异常进行处理，则a方法必须将此异常抛给调用者以使程序能够继续执行</li>
                                <li>如果方法中有throws关键字，则必须在调用方法中用try-catch块进行异常捕获。如果不捕获，则需要在调用方法中用throw将异常抛出</li>
                            </ul>
                        </ul>
                        <p><a href="../SourceCode/Lec_05_Src/ThrowDemo.java" target="_blank">ThrowDemo.java</a></p>
                        <p><a href="../SourceCode/Lec_05_Src/ThrowsDemo.java" target="_blank">ThrowsDemo.java</a></p>
                    </section>
                </section>
                <section>
                    <section id="catchexp1">
                        <h2>捕获异常</h2>
                        <div class="columnleft">
                            <pre><code class="hljs">
try{
    statements;
}
catch(Exception1 ex1){
    handler for ex1;
}
catch(Exception2 ex2){
    handler for ex2;
}
...
catch(ExceptionN exN){
    handler for exN;
}
                            </code></pre>
                        </div>
                        <div class="columnright">
                            <pre><code class="hljs">
main method{
    ...
    try{
        ...
        invoke method1;
        statement1;
    }
    catch(Exception1 ex1){
        process ex1;
    }
    statement2;
}
                            </code></pre>
                        </div>
                    </section>
                    <section id="catchexp2">
                        <h2>捕获异常</h2>
                        <img src="../images/java/chap5/catchmtd3.png">
                    </section>
                    <section id="catchexp3">
                        <h2>捕获异常</h2>
                        <ul>
                            <li>Java要求程序员处理必检异常，若方法声明了一个必检异常，则必须在try-catch块中调用，或在调用方法声明中将其抛出</li>
                        </ul>
                        <div class="columnleft">
                            <pre><code class="hljs">
void p2() throws IOException{
    // ...
}

void p1(){
    try{
        p2();
    }
    catch(IOException ex){
        //...
    }
}
                            </code></pre>
                        </div>
                        <div class="columnright">
                            <pre><code class="hljs">
void p2() throws IOException{
    //...
}

void p1() throws IOException{
    p2();
}
                            </code></pre>
                        </div>
                    </section>
                    <section id="expinfo">
                        <h2>获取异常信息</h2>
                        <img src="../images/java/chap5/throwable.png">
                        <p><a href="../SourceCode/Lec_05_Src/TestException.java" target="_blank">TestException.java</a></p>
                    </section>
                </section>
                <section>
                    <section id="expexp1">
                        <h2>异常处理示例</h2>
                        <pre><code class="hljs">
try{
    statements;
}
catch(Exception ex){
    perform operations before exits;
    throw ex;
}
                        </code></pre>
                    </section>
                    <section id="expexp2">
                        <h2>异常处理示例</h2>
                        <p><a href="../SourceCode/Lec_05_Src/CircleWithException.java" target="_blank">CircleWithException.java</a></p>
                        <p><a href="../SourceCode/Lec_05_Src/TestCircleWithException.java" target="_blank">TestCircleWithException.java</a></p>
                    </section>
                </section>
                <section>
                    <section id="finally1">
                        <h2>finally子句</h2>
                        <ul>
                            <li>finally子句，即指无论是否发生异常都会执行的语句</li>
                            <div class="columnleft">
                                <pre><code class="hljs">
try{
    statement;
}
catch(Exception ex){
    handling ex;
}
finally{
    finalstatements;
}
                                </code></pre>
                            </div>
                            <div class="columnright">
                                <pre><code class="hljs">
public class FinallyDemo{
    public static void main( String [] args ){
        java.io.PrintWriter output = null;
        try{
            output = new java.io.PrintWriter( "text.txt" );
            output.println( "Welcome to Java" );
        }
        catch( java.io.IOException ex ){
            ex.printStackTrace();
        }
        finally{
            if( output != null )
            output.close();
        } 
        System.out.println( "End of program" ); 
    }
}
                                </code></pre>
                            </div>
                        </ul>
                    </section>
                    <section id="finally2">
                        <h2>finally子句</h2>
                        <p>Case 1: 无异常</p>
                        <pre><code class="hljs" data-line-numbers="3|9|11">
try{
    statements;
}
catch( Exception ex){
    handling ex;
}
finally{
    finalStatements;
}
Next statements;
                        </code></pre>
                    </section>
                    <section id="finally3">
                        <h2>finally子句</h2>
                        <p>Case 2: 抛出可捕获的异常</p>
                        <pre><code class="hljs" data-line-numbers="4|8|11|13">
try{
    statements1;
    statements2;
    statements3;
}
catch( Exception1 ex){
    handling ex;
}
finally{
    finalStatements;
}
Next statements;
                        </code></pre>
                    </section>
                    <section id="finally4">
                        <h2>finally子句</h2>
                        <p>Case 3: 无法处理异常，继续抛出</p>
                        <pre><code class="hljs" data-line-numbers="4|11|15|12">
try{
    statements1;
    statements2;
    statements3;
}
catch( Exception1 ex){
    handling ex;
}
catch( Exception2 ex ){
    handling ex;
    throw ex;
}
finally{
    finalStatements;
}
Next statements;
                        </code></pre>
                    </section>
                </section>
                <section id="keys">
                    <h2>异常处理关键词</h2>
                    <img src="../images/java/chap5/excepkey.png">
                    <p>finally之前有return语句怎么办？</p>
                </section>
                <section id="expnote">
                    <h2>异常处理注意事项</h2>
                    <ul>
                        <li>可将错误代码处理与正常程序设计任务分离，增加代码的可读性，易于修改</li>
                        <li>需要更多的时间和资源</li>
                        <li>何时抛出异常？</li>
                        <ul>
                            <li>出现在方法中的异常，若想让该方法的调用者处理，就需要创建一个异常对象，并将其抛出，如果能在发生异常的方法中处理异常，就不需要抛出异常</li>
                            <li>当必须处理不可预料的错误状况时，可使用try-catch块</li>
                        </ul>
                        <li>系统提供的异常类有限，大多数问题需要自定义异常类进行处理</li>
                    </ul>
                </section>
            </div>
        </div>

        <script src="../../dist/reveal.js"></script>
        <script src="../../plugin/zoom/zoom.js"></script>
        <script src="../../plugin/notes/notes.js"></script>
        <script src="../../plugin/search/search.js"></script>
        <script src="../../plugin/markdown/markdown.js"></script>
        <script src="../../plugin/highlight/highlight.js"></script>
        <script src="../../plugin/math/math.js"></script>
        <script>
            Reveal.initialize({
               // display controls in the bottom right corner
                controls: true,

                // display a presentation progress bar
                progress: true,
                // set default timing of 2 minutes per slides
                defaultTiming: 120,

                // Display the page number of the current slides
                slideNumber: true,

                // Push each slide change to the browser history
                history: false,

                // Enable keyboard shortcuts for navigation
                keyboard: true,

                // Enable the slide overview mode
                overview: true,

                // Vertical centering of slides
                center: true,

                // Enable touch navigation on devices with touch input
                touch: true,

                // Loop the presentation
                loop: false,

                // Change teh presentation direction to be RTL
                rtl: false,

                // Randomizes the order of slides each time the presentation loads
                shuffle: false,

                // Turns fragments on and off globally
                fragment: true,

                // Flags if the presentation is running in an embedded mode,
                // i.e. contained within a limited portion of the screen
                embedded: false,

                // Flags if we should show a help overlay when the questionmark key is pressed
                help: true,

                // Flags if speaker notes should be visible to all viewers
                showNotes: false,

                // Global override for autoplaying embedded media( video/audio/iframe)
                // - null: media will only autoplay if data-autopay is present
                // - true: all media will autoplay, regradless of individual setting
                // - false: no media will autoplay, regardless of individual setting
                autoPlayMedia: null,

                // Number of milliseconds between automatically proceeding to the next slide, 
                //disabled when set to 0, this value can be overwritten by
                // using a data-autoslide attribute on your slides
                autoSlide: 0,

                // Stop auto-sliding after user input
                autoSlideStoppable: true,

                // Use this method for navigation when auto-sliding
                autoSlideMethod: Reveal.navigateNext,

                // Enable slide navigation via mouse wheel
                mouseWheel: false,

                // Hides the address bar on mobile devices
                hideAddressBar: true,

                // Opens links in an iframe preview overlay
                previewLinks: false,

                // Transition style
                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // Transition speed
                transitionSpeed: 'default', // default/fast/slow

                // Transition style for full page slide backgrounds
                backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom

                // Number of slides away from the current that are visible
                viewDistance: 3,

                // Parallax background image
                parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakin-static/reveal-js/reveal-parallax-1.jpg'"

                // Parallax background size
                parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"

                // Number of pixels to move the parallax background per slide
                // - calculated automatically unless specified
                // - set to 0 to disable movement along an axis
                parallaxBackgroundHorizontal: null,
                parallaxBackgroundVertical: null,

                // The display mode that will be used to show slides
                display: 'block',

                // print to pdf while no slide grows to more than one printed page
                pdfMaxPagesPerSlide: 1,

                // presentation
                width: 1000,
                height: 1000,

                margin: 0.1,

                minScale: 0.2,
                maxScale: 1.5, 

                math: {
                    mathjax: 'https://cdn.jsdelivr.net/gh/mathjax/mathjax@2.7.8/MathJax.js',
                    config: 'TeX-AMS_HTML-full',
                    // pass other options into `MathJax.Hub.Config()`
                    TeX: { Macros: { RR: "{\\bf R}" } }
                },

                plugins: [RevealHighlight, RevealMath]
            })
        </script>
    </body>
</html>

